{"version":3,"file":"static/js/797.925ad1f3.chunk.js","mappings":"kMAmBA,EAhB2B,SAAC,GAAsC,IAApCA,EAAmC,EAAnCA,QAASC,EAA0B,EAA1BA,MAAOC,EAAmB,EAAnBA,GAAIC,EAAe,EAAfA,SAChD,OACE,wBACGH,GACC,SAAC,KAAD,CAAMI,GAAE,iBAAYF,GAAMG,MAAO,CAAEC,KAAMH,GAAzC,SACGF,KAGH,SAAC,KAAD,CAAMG,GAAE,UAAKF,GAAMG,MAAO,CAAEC,KAAMH,GAAlC,SACGF,KAKV,ECDD,EAb2B,SAAC,GAAyC,IAAvCM,EAAsC,EAAtCA,aAAcP,EAAwB,EAAxBA,QAASG,EAAe,EAAfA,SAC7CK,EAAe,OAAGD,QAAH,IAAGA,OAAH,EAAGA,EAAcE,KAAI,SAAAC,GAAE,OAC1C,SAAC,EAAD,CACEP,SAAUA,EACVH,QAASA,EACTC,MAAOS,EAAGT,MAEVC,GAAIQ,EAAGR,IADFQ,EAAGR,GALgC,IAS5C,OAAO,wBAAKM,GACb,C,8LCZDG,EAAAA,EAAAA,SAAAA,QAAyB,+BACzB,IAAMC,EAAU,mCAEHC,EAAmB,mCAAG,oGACVF,EAAAA,EAAAA,IAAA,sCAAyCC,IAD/B,cAC3BE,EAD2B,yBAE1BA,EAASC,MAFiB,2CAAH,qDAKnBC,EAAU,mCAAG,8FAASd,EAAT,EAASA,GAAT,SACDS,EAAAA,EAAAA,IAAA,iBAAoBT,EAApB,oBAAkCU,IADjC,cAClBE,EADkB,yBAEjBA,EAASC,MAFQ,2CAAH,sDAKVE,EAAS,mCAAG,8FAASf,EAAT,EAASA,GAAT,SACAS,EAAAA,EAAAA,IAAA,iBAAoBT,EAApB,4BAA0CU,IAD1C,cACjBE,EADiB,yBAEhBA,EAASC,MAFO,2CAAH,sDAKTG,EAAY,mCAAG,8FAAShB,EAAT,EAASA,GAAT,SACHS,EAAAA,EAAAA,IAAA,iBAAoBT,EAApB,4BAA0CU,IADvC,cACpBE,EADoB,yBAEnBA,EAASC,MAFU,2CAAH,sDAKZI,EAAgB,mCAAG,WAAMC,GAAN,uFACPT,EAAAA,EAAAA,IAAA,4DACgCC,EADhC,kBACiDQ,EADjD,+CADO,cACxBN,EADwB,yBAIvBA,EAASC,MAJc,2CAAH,qD,0HC8B7B,UAlDmB,WACjB,OAA0BM,EAAAA,EAAAA,UAAS,IAAnC,eAAOD,EAAP,KAAcE,EAAd,KACA,GAAsCD,EAAAA,EAAAA,UAAS,MAA/C,eAAOE,EAAP,KAAoBC,EAApB,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAcF,EAAaG,IAAI,SAC/B1B,GAAW2B,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAU,mCAAG,oGAEXJ,GACFN,EAASM,GAHI,UAKcT,EAAAA,EAAAA,IAAiBC,GAL/B,OAKTa,EALS,OAMfT,EAAeS,GANA,gDAQfC,QAAQC,IAAR,MARe,yDAAH,qDAWhBH,GAED,GAAE,CAACZ,IAUJ,OACE,iCACE,kBAAMgB,OAAO,GAAGC,SAVC,SAAAC,GACnBA,EAAIC,iBACJjB,EAASgB,EAAIE,OAAOC,SAASC,OAAOC,MACrC,EAOG,WACE,kBAAOC,SANQ,SAAAN,GACnBX,EAAgB,CAAEP,MAAOkB,EAAIE,OAAOG,OACrC,EAIoCE,KAAK,OAAOC,KAAK,YAChD,mBAAQD,KAAK,SAAb,wBAEU,OAAXtB,QAAW,IAAXA,OAAA,EAAAA,EAAawB,QAAQC,QAAS,GAC7B,SAAC,IAAD,CACE7C,SAAUA,EACVH,SAAS,EACTO,aAAY,OAAEgB,QAAF,IAAEA,OAAF,EAAEA,EAAawB,WAG7B,wCAIP,C","sources":["components/ItemOfPopularFilms/ItemOfPopularFilms.jsx","components/ListOfPopularFilms/ListOfPopularFilms.jsx","components/api.js","pages/MoviesPage.jsx"],"sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst ItemOfPopularFilms = ({ popular, title, id, location }) => {\n  return (\n    <li>\n      {popular ? (\n        <Link to={`movies/${id}`} state={{ from: location }}>\n          {title}\n        </Link>\n      ) : (\n        <Link to={`${id}`} state={{ from: location }}>\n          {title}\n        </Link>\n      )}\n    </li>\n  );\n};\n\nexport default ItemOfPopularFilms;\n","import ItemOfPopularFilms from 'components/ItemOfPopularFilms/ItemOfPopularFilms';\nimport React from 'react';\n\nconst ListOfPopularFilms = ({ popularFilms, popular, location }) => {\n  const popularFilmsArr = popularFilms?.map(el => (\n    <ItemOfPopularFilms\n      location={location}\n      popular={popular}\n      title={el.title}\n      key={el.id}\n      id={el.id}\n    />\n  ));\n  return <ul>{popularFilmsArr}</ul>;\n};\n\nexport default ListOfPopularFilms;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\nconst API_KEY = 'aa64369a7a4c070f2ae72e49aca3d158';\n\nexport const fetchDayPopularFilm = async () => {\n  const response = await axios.get(`/trending/movie/day?api_key=${API_KEY}`);\n  return response.data;\n};\n\nexport const fetchMovie = async ({ id }) => {\n  const response = await axios.get(`/movie/${id}?api_key=${API_KEY}`);\n  return response.data;\n};\n\nexport const fetchCast = async ({ id }) => {\n  const response = await axios.get(`/movie/${id}/credits?api_key=${API_KEY}`);\n  return response.data;\n};\n\nexport const fetchReviews = async ({ id }) => {\n  const response = await axios.get(`/movie/${id}/reviews?api_key=${API_KEY}`);\n  return response.data;\n};\n\nexport const fetchSearchMovie = async query => {\n  const response = await axios.get(\n    `https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&query=${query}&include_adult=false&language=en-US&page=1`\n  );\n  return response.data;\n};\n","import { fetchSearchMovie } from 'components/api';\nimport ListOfPopularFilms from 'components/ListOfPopularFilms/ListOfPopularFilms';\nimport React, { useEffect, useState } from 'react';\nimport { useLocation, useSearchParams } from 'react-router-dom';\n\nconst MoviesPage = () => {\n  const [query, setQuery] = useState('');\n  const [searchMovie, setSearchMovie] = useState(null);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const searchQuery = searchParams.get('query');\n  const location = useLocation();\n\n  useEffect(() => {\n    const getApiInfo = async () => {\n      try {\n        if (searchQuery) {\n          setQuery(searchQuery);\n        }\n        const searchMovieApi = await fetchSearchMovie(query);\n        setSearchMovie(searchMovieApi);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    getApiInfo();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [query]);\n\n  const handleSubmit = evt => {\n    evt.preventDefault();\n    setQuery(evt.target.elements.search.value);\n  };\n\n  const handleChange = evt => {\n    setSearchParams({ query: evt.target.value });\n  };\n  return (\n    <>\n      <form action=\"\" onSubmit={handleSubmit}>\n        <input onChange={handleChange} type=\"text\" name=\"search\" />\n        <button type=\"submit\">Search</button>\n      </form>\n      {searchMovie?.results.length > 0 ? (\n        <ListOfPopularFilms\n          location={location}\n          popular={false}\n          popularFilms={searchMovie?.results}\n        />\n      ) : (\n        <p>No results</p>\n      )}\n    </>\n  );\n};\n\nexport default MoviesPage;\n"],"names":["popular","title","id","location","to","state","from","popularFilms","popularFilmsArr","map","el","axios","API_KEY","fetchDayPopularFilm","response","data","fetchMovie","fetchCast","fetchReviews","fetchSearchMovie","query","useState","setQuery","searchMovie","setSearchMovie","useSearchParams","searchParams","setSearchParams","searchQuery","get","useLocation","useEffect","getApiInfo","searchMovieApi","console","log","action","onSubmit","evt","preventDefault","target","elements","search","value","onChange","type","name","results","length"],"sourceRoot":""}